(function(){var e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e},t={}.hasOwnProperty;!function(e){var t;t="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,"function"==typeof define&&define.amd?define(["yess","lodash","publisher-subscriber","exports"],function(r,n){return t.Callbacks=e(t,r)}):"object"==typeof module&&null!==module&&"object"==typeof module.exports?module.exports=e(t,require("yess"),require("lodash"),require("publisher-subscriber")):t.Callbacks=e(t,t._)}(function(t,r){var n,o,i,s,a,l;return a=r.removeAt,s=r.isString,i=r.isFunction,o=r.generateID,n=function(t){function r(e){this.name="InvalidCallback",this.message="[Callbacks] "+e+" isn't a valid callable",r.__super__.constructor.call(this,this.message),("function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.name):void 0)||(this.stack=(new Error).stack)}return e(r,t),r}(Error),l=function(e,t){return function(){var r;r=s(t)?this[t]():t.call(this),r&&e.apply(this,arguments)}},{VERSION:"1.0.2",ClassMembers:{callback:function(e,t,r){var a,c,u,f,h;if(s(e)?(f=e,h=t,u=r):(f="anonymous-"+o(),h=e,u=t),c=null!=h.once?"once":"on",a=h[c],!i(u))throw new n(u);return null!=h["if"]&&(u=l(u,h["if"])),this.reopenArray("_4",[f,c,a,u]),this},initializer:function(e,t){var r,a;if(s(e)?(a=e,r=t):(a="anonymous-"+o(),r=e),!i(r))throw new n(r);return this.reopenArray("_5",[a,r]),this},finalizer:function(e){return this.callback({on:"destroy"},e)},deleteInitializer:function(e){var t,r,n;for(t=this.reopenArray("_5"),n=t.length,r=-2;(r+=2)<n;)t[r]===e&&(a(t,r,2),r-=2,n-=2);return this}},InstanceMembers:{initialize:function(e){var t,r,n,o,i,s;if(i=this._4)for(t=-4,n=i.length;(t+=4)<n;)this[i[t+1]](i[t+2],i[t+3]);if(s=this._5)for(r=-1,o=s.length;(r+=2)<o;)s[r].call(this,e)}}}})}).call(this);